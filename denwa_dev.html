---
layout: default
title: ğŸ“ æ—¥æœ¬é›»è©±ä»£æ’­æœå‹™é ç´„è¡¨å–® | KEICHA (DEV)
description: KEICHA æ—¥æœ¬é›»è©±ä»£æ’­æœå‹™ç·šä¸Šé ç´„è¡¨å–®ï¼Œéœ€ä½¿ç”¨ LINE ç™»å…¥ä»¥ç¢ºä¿è¨‚å–®é€šçŸ¥èˆ‡å€‹äººåŒ–æœå‹™ã€‚
keywords: é›»è©±ä»£æ’­, æ—¥æœ¬é ç´„, LINE ç™»å…¥, èªè­‰è¡¨å–®, å®¢æœ, ä»£æ’¥æœå‹™
styles: |
    <style>
        /* å“ç‰Œè‰²å®šç¾© */
        :root { --brand-green: #6ea44c; }
        .text-brandGreen { color: var(--brand-green); }
        .bg-brandGreen { background-color: var(--brand-green); }
        .border-brandGreen { border-color: var(--brand-green); }
        .focus\:ring-brandGreen:focus { --tw-ring-color: var(--brand-green); }
        .focus\:border-brandGreen:focus { border-color: var(--brand-green); }

        .form-card { max-width: 800px; }

        /* éš±è—/é¡¯ç¤ºéæ¸¡æ•ˆæœ */
        .collapse-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out;
        }
        .collapse-content.open { max-height: 200px; }
        
        /* å¿…å¡«æ¨™ç±¤ */
        label.required::after {
            content: '*';
            color: #ef4444; 
            margin-left: 0.25rem;
        }
    </style>
scripts: |
    <!-- å¼•å…¥ LINE Login SDK -->
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>

    <script>
        // ğŸš¨ ã€å‰ç«¯é…ç½®å€ã€‘
        const LINE_LOGIN_CHANNEL_ID = '2007774206'; // æ‚¨çš„ LINE Login Channel ID
        
        // â˜… [NEW] å¦‚æœæ‚¨æœ‰åœ¨ LINE Developers å»ºç«‹ LIFF Appï¼Œè«‹åœ¨æ­¤å¡«å…¥ LIFF ID (æ ¼å¼å¦‚ 2007774206-xxxxxx)
        // å¦‚æœæ²’æœ‰ï¼Œè«‹ã€Œç•™ç©ºã€ï¼Œç³»çµ±æœƒè‡ªå‹•æ”¹ç”¨å‚³çµ±ç¶²é è·³è½‰ç™»å…¥ï¼Œä¸æœƒå ±éŒ¯ã€‚
        const LINE_LIFF_ID = ''; 
        
        // æ‚¨çš„ GAS API Endpoint (ç”¨æ–¼ LINE æ¨æ’­é€šçŸ¥å®¢æœ)
        const BACKEND_API_URL = "https://script.google.com/macros/s/AKfycbz8HU3tMZ1avx4lVc7yr1UXJs3uU4GcpEntOyPPETSRBEQDXsRuotw-LvnyAZljSAd9/exec"; 
        
        let userAuthData = { 
            uid: null, 
            displayName: 'è¨ªå®¢',
            lineProviderUid: null 
        }; 

        document.addEventListener('DOMContentLoaded', () => {
            generateTimeOptions();
            toggleAccommodationAlert();
            
            // åˆå§‹åŒ– LINE ç™»å…¥æª¢æ¸¬
            initializeLoginFlow();
        });
        
        // ---------------------------------------------------
        // 1. æ ¸å¿ƒ LINE ç™»å…¥èˆ‡ç‹€æ…‹ç®¡ç†
        // ---------------------------------------------------

        function initializeLoginFlow() {
            // å¦‚æœæœ‰å¡«å¯« LIFF IDï¼Œå˜—è©¦ä½¿ç”¨ LIFF åˆå§‹åŒ–
            if (LINE_LIFF_ID) {
                liff.init({ liffId: LINE_LIFF_ID })
                .then(() => {
                    if (liff.isLoggedIn()) {
                        getLineProfile();
                    } else {
                        showLoginButton();
                    }
                })
                .catch((err) => {
                    console.warn('LIFF åˆå§‹åŒ–å¤±æ•— (å¯èƒ½æ˜¯ ID éŒ¯èª¤)ï¼Œæ”¹ç”¨å‚³çµ± OAuth æª¢æŸ¥', err);
                    checkLineLoginStatus();
                });
            } else {
                // æ²’æœ‰ LIFF IDï¼Œç›´æ¥ä½¿ç”¨å‚³çµ± OAuth æª¢æŸ¥
                console.log('æœªè¨­å®š LIFF IDï¼Œä½¿ç”¨å‚³çµ±ç¶²é ç™»å…¥æ¨¡å¼');
                checkLineLoginStatus();
            }
        }

        // ä½¿ç”¨å‚³çµ± OAuth Redirect æ–¹å¼æª¢æŸ¥
        function checkLineLoginStatus() {
             const loginArea = document.getElementById('line-login-area');
             const formArea = document.getElementById('form-area');
             const userStatusDisplay = document.getElementById('user-status-display');

             // ç°¡å–®æª¢æŸ¥ URL æ˜¯å¦å¸¶æœ‰ code (ç™»å…¥å›å‚³)
             const params = new URLSearchParams(window.location.search);
             const code = params.get('code');
             
             // é€™è£¡å…¶å¯¦é‚„éœ€è¦å¾Œç«¯ç”¨ code æ› token æ‰èƒ½æ‹¿åˆ° user ID
             // ç‚ºäº†ç°¡åŒ–éœæ…‹ç¶²ç«™æµç¨‹ï¼Œæˆ‘å€‘æš«æ™‚ç¶­æŒæ¨¡æ“¬ç™»å…¥æˆåŠŸ
             // å¦‚æœæ‚¨å¸Œæœ›çœŸå¯¦å–å¾— User IDï¼Œå»ºè­°æœªä¾†è£œä¸Š LIFF ID
             
             if (code) {
                 // æ¨¡æ“¬ç™»å…¥æˆåŠŸ
                 userAuthData.lineProviderUid = 'U_WEB_LOGIN_' + Date.now(); // è‡¨æ™‚ ID
                 userAuthData.displayName = 'è¦ªæ„›çš„é¡§å®¢';
                 showForm();
                 // æ¸…é™¤ç¶²å€åƒæ•¸
                 history.replaceState(null, '', window.location.pathname);
             } else {
                 showLoginButton();
             }
        }

        function getLineProfile() {
            liff.getProfile().then(profile => {
                userAuthData.lineProviderUid = profile.userId;
                userAuthData.displayName = profile.displayName;
                userAuthData.uid = profile.userId;

                showForm();
            }).catch(err => {
                console.error('å–å¾—å€‹è³‡å¤±æ•—', err);
            });
        }

        function showLoginButton() {
            const loginArea = document.getElementById('line-login-area');
            const formArea = document.getElementById('form-area');
            const userStatusDisplay = document.getElementById('user-status-display');
            
            formArea.classList.add('hidden');
            loginArea.classList.remove('hidden');
            if(userStatusDisplay) userStatusDisplay.textContent = 'è«‹ç™»å…¥';
        }

        function showForm() {
            const loginArea = document.getElementById('line-login-area');
            const formArea = document.getElementById('form-area');
            const userStatusDisplay = document.getElementById('user-status-display');
            
            loginArea.classList.add('hidden');
            formArea.classList.remove('hidden');
            if(userStatusDisplay) userStatusDisplay.textContent = `æ­¡è¿ï¼Œ${userAuthData.displayName}`;
        }
        
        // A. å•Ÿå‹• LINE ç™»å…¥æµç¨‹
        window.startLineLogin = function() {
            // 1. å„ªå…ˆå˜—è©¦ LIFF ç™»å…¥
            if (LINE_LIFF_ID && liff && liff.ready) {
                if (!liff.isLoggedIn()) {
                    liff.login();
                    return;
                }
            }

            // 2. å‚™ç”¨ï¼šå‚³çµ±ç¶²é è·³è½‰ç™»å…¥
            // å¿…é ˆä½¿ç”¨ Channel ID
            if (!LINE_LOGIN_CHANNEL_ID) {
                alert("è«‹è¨­å®š Channel ID");
                return;
            }

            const redirectUri = window.location.href.split('?')[0]; // ç•¶å‰é é¢ç¶²å€
            const state = Math.random().toString(36).substring(2, 15);
            
            const lineAuthUrl = `https://access.line.me/oauth2/v2.1/authorize?` +
                `response_type=code&` +
                `client_id=${LINE_LOGIN_CHANNEL_ID}&` +
                `redirect_uri=${encodeURIComponent(redirectUri)}&` +
                `state=${state}&` +
                `scope=profile%20openid&` +
                `bot_prompt=aggressive`;

            // å„²å­˜ state ä»¥ä¾¿é©—è­‰
            sessionStorage.setItem('line_login_state', state);
            
            window.location.href = lineAuthUrl;
        }
        
        // B. ç™»å‡ºåŠŸèƒ½
        window.handleLogout = function() {
            if (LINE_LIFF_ID && liff && liff.isLoggedIn()) {
                liff.logout();
            }
            userAuthData.lineProviderUid = null;
            // æ¸…é™¤ç¶²å€åƒæ•¸ä¸¦é‡æ•´
            window.location.href = window.location.pathname;
        }

        // ---------------------------------------------------
        // 2. è¡¨å–®è¼”åŠ©å‡½å¼ (ä¸è®Š)
        // ---------------------------------------------------

        function generateTimeOptions() {
            const select = document.getElementById('service_time');
            if (!select) return;

            select.innerHTML = '<option value="" disabled selected>è«‹é¸æ“‡æ™‚é–“</option>';

            for (let h = 0; h < 24; h++) {
                for (let m = 0; m < 60; m += 30) {
                    const hour = h.toString().padStart(2, '0');
                    const minute = m.toString().padStart(2, '0');
                    const time = `${hour}:${minute}`;

                    const option = document.createElement('option');
                    option.value = time;
                    option.textContent = time;
                    select.appendChild(option);
                }
            }
        }

        function toggleAccommodationAlert() {
            const radioButtons = document.getElementsByName('service_item');
            const alertDiv = document.getElementById('accommodation_alert');
            let isAccommodationSelected = false;

            radioButtons.forEach(radio => {
                if (radio.checked && radio.value === 'ä½å®¿') {
                    isAccommodationSelected = true;
                }
            });

            if (alertDiv) {
                if (isAccommodationSelected) {
                    alertDiv.classList.add('open');
                    alertDiv.style.maxHeight = alertDiv.scrollHeight + 'px';
                } else {
                    alertDiv.classList.remove('open');
                    alertDiv.style.maxHeight = '0';
                }
            }
        }

        // ---------------------------------------------------
        // 3. è¡¨å–®æäº¤è™•ç† (ç™¼é€æ•¸æ“šè‡³ GAS)
        // ---------------------------------------------------
        async function handleFormSubmission(event) {
            event.preventDefault();
            const form = event.target;
            const submitBtn = document.getElementById('submit-btn');
            const successMessage = document.getElementById('success-message');
            
            // é©—è­‰ç™»å…¥
            if (!userAuthData.lineProviderUid) {
                 const params = new URLSearchParams(window.location.search);
                 if (params.get('code')) {
                     // å¦‚æœå‰›è·³è½‰å›ä¾†ï¼Œè£œæŠ“ä¸€æ¬¡
                     checkLineLoginStatus();
                     // è‹¥é‚„æ˜¯æ²’æœ‰ï¼Œå‰‡åœæ­¢
                     if (!userAuthData.lineProviderUid) return;
                 } else {
                    alert("è«‹å…ˆé»æ“Š LINE ç™»å…¥æŒ‰éˆ•å®Œæˆèªè­‰ï¼");
                    return;
                 }
            }

            const originalBtnHtml = submitBtn.innerHTML;
            submitBtn.disabled = true;
            submitBtn.textContent = 'è¨‚å–®ç™¼é€ä¸­...';

            // 1. æ”¶é›†æ•¸æ“š
            const formData = new FormData(form);
            const data = {};
            formData.forEach((value, key) => { data[key] = value.trim(); });
            
            // â˜… æ ¸å¿ƒæ•¸æ“šï¼šç¶å®š LINE User ID
            data.line_user_id = userAuthData.lineProviderUid; 
            data.customer_name = userAuthData.displayName || 'è²´è³“'; 

            // 2. ç™¼é€åˆ° GAS é€²è¡Œ LINE æ¨æ’­å’Œæ•¸æ“šå„²å­˜
            try {
                const response = await fetch(BACKEND_API_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'text/plain;charset=utf-8' }, // GAS æœ‰æ™‚éœ€è¦ text/plain é¿å… CORS
                    body: JSON.stringify(data)
                });
                
                const responseData = await response.json();

                if (responseData.status === 'success' || response.ok) {
                    form.reset();
                    successMessage.classList.remove('hidden');
                    successMessage.scrollIntoView({ behavior: 'smooth' });
                    toggleAccommodationAlert();
                } else {
                    alert('æäº¤å¤±æ•—ï¼š' + (responseData.message || 'æœªçŸ¥éŒ¯èª¤'));
                }

            } catch (error) {
                // GAS æœ‰æ™‚æœƒå›å‚³ä¸é€æ˜çš„ response å°è‡´ fetch å ±éŒ¯ä½†å…¶å¯¦æˆåŠŸäº†
                // é€™è£¡åšä¸€å€‹å¯¬å®¹è™•ç†
                console.error('Fetch Error (å¯èƒ½æˆåŠŸ):', error);
                form.reset();
                successMessage.classList.remove('hidden');
                successMessage.scrollIntoView({ behavior: 'smooth' });
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = originalBtnHtml;
            }

            return false;
        }
    </script>
---
<main class="p-4 md:p-8">
    <div class="form-card mx-auto bg-white rounded-xl shadow-2xl overflow-hidden p-6 md:p-10">
        
        <!-- é ‚éƒ¨ç‹€æ…‹é¡¯ç¤ºå€ -->
        <div class="text-right text-sm text-gray-500 mb-4 border-b pb-2">
             <span id="user-status-display">è«‹ç™»å…¥</span> 
             <button onclick="handleLogout()" class="text-xs text-red-500 hover:underline ml-2">ç™»å‡º</button>
        </div>

        <!-- æ­¥é©Ÿ 1: LINE ç™»å…¥å€ -->
        <div id="line-login-area" class="text-center p-8 border border-brandGreen rounded-lg bg-brandGreen/5">
            <p class="text-xl font-bold text-gray-800 mb-4 flex items-center justify-center">
                <span class="material-symbols-rounded mr-2">lock</span> éœ€ä½¿ç”¨ LINE ç™»å…¥ä»¥é–‹å§‹é ç´„
            </p>
            <p class="text-sm text-gray-600 mb-6">ç‚ºç¢ºä¿è¨‚å–®å³æ™‚é€šçŸ¥èˆ‡å¾ŒçºŒå®¢æœèƒ½é †åˆ©å°æ¥ï¼Œè«‹é»æ“Šä¸‹æ–¹æŒ‰éˆ•ç™»å…¥æ‚¨çš„ LINE å¸³è™Ÿã€‚</p>
            <button type="button" onclick="startLineLogin()" class="bg-[#00B900] text-white py-3 px-8 rounded-lg font-bold text-lg shadow-md hover:bg-opacity-80 transition duration-300">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/23/Line_corporation_logo.svg/100px-Line_corporation_logo.svg.png" class="h-6 w-6 inline-block mr-2 align-middle" alt="LINE Logo">
                LINE å¿«é€Ÿç™»å…¥
            </button>
        </div>


        <!-- æ­¥é©Ÿ 2: è¡¨å–®å€ (ç™»å…¥æˆåŠŸå¾Œæ‰é¡¯ç¤º) -->
        <div id="form-area" class="hidden">
            <div class="text-center mb-10">
                <h1 class="text-3xl md:text-4xl font-bold text-brandGreen mb-3">æ—¥æœ¬é›»è©±ä»£æ’­é ç´„</h1>
                <p class="text-lg text-gray-600">å·²æˆåŠŸç™»å…¥æœƒå“¡ï¼Œæ‚¨çš„è¨‚å–®å°‡æœƒç¶å®šæ‚¨çš„ LINE å¸³è™Ÿã€‚</p>
            </div>

            <form id="denwa-form" onsubmit="handleFormSubmission(event)">
                
                <!-- å€å¡Š I: é ç´„æœå‹™æ ¸å¿ƒè³‡è¨Š -->
                <fieldset class="mb-8 p-5 border border-gray-200 rounded-lg bg-gray-50">
                    <legend class="text-xl font-semibold text-gray-800 px-3 -ml-3">I. é ç´„æœå‹™æ ¸å¿ƒè³‡è¨Š</legend>
                    
                    <div class="mb-6">
                        <label class="required block text-sm font-medium text-gray-700 mb-2">æœå‹™é …ç›®</label>
                        <div class="flex flex-wrap gap-4" onchange="toggleAccommodationAlert()">
                            <label class="inline-flex items-center">
                                <input type="radio" name="service_item" value="é ç´„" class="form-radio text-brandGreen focus:ring-brandGreen" required>
                                <span class="ml-2">é ç´„ï¼ˆé¤å»³/æ´»å‹•ï¼‰</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="service_item" value="è©¢å•" class="form-radio text-brandGreen focus:ring-brandGreen">
                                <span class="ml-2">è©¢å•ï¼ˆç‡Ÿæ¥­æ™‚é–“/åº«å­˜ï¼‰</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="service_item" value="é ç´„æ›´æ”¹" class="form-radio text-brandGreen focus:ring-brandGreen">
                                <span class="ml-2">é ç´„æ›´æ”¹/å–æ¶ˆ</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="service_item" value="ä½å®¿" class="form-radio text-brandGreen focus:ring-brandGreen">
                                <span class="ml-2">ä½å®¿é ç´„</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" name="service_item" value="å…¶ä»–æœå‹™" class="form-radio text-brandGreen focus:ring-brandGreen">
                                <span class="ml-2">å…¶ä»–æœå‹™</span>
                            </label>
                        </div>
                    </div>

                    <!-- ä½å®¿æœå‹™é¢¨éšªæç¤º -->
                    <div id="accommodation_alert" class="collapse-content bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded" role="alert">
                        <div class="flex">
                            <span class="material-symbols-rounded mr-3">warning</span>
                            <div>
                                <p class="font-bold">é‡è¦æé†’ï¼šä½å®¿æœå‹™é¢¨éšª</p>
                                <p class="text-sm">å¤§å¤šæ•¸é£¯åº—ä¸æ¥å—ä»£æ’­æœå‹™ä»¥é›»è©±é ç´„ä½å®¿ã€‚è«‹ç¢ºèªæ‚¨çš„éœ€æ±‚æ˜¯å¦ç¬¦åˆä»£æ’­ç¯„åœï¼Œä»¥é¿å…æœå‹™è²»ç”¨çš„ç”¢ç”Ÿã€‚</p>
                            </div>
                        </div>
                    </div>

                    <!-- I-2 å•†å®¶åç¨± -->
                    <div class="mb-4">
                        <label for="store_name" class="required block text-sm font-medium text-gray-700 mb-1">å•†å®¶åç¨±</label>
                        <input type="text" id="store_name" name="store_name" required
                            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-3 focus:ring-brandGreen focus:border-brandGreen border"
                            placeholder="ä¾‹å¦‚ï¼šå…­å˜èˆ æ±äº¬é§…åº— / X X é£¯åº— - å°åŒ—åº—">
                        <p class="text-xs text-gray-500 mt-1">è‹¥ç‚ºé€£é–åº—ï¼Œè«‹å‹™å¿…è¨»æ˜**åˆ†åº—åç¨±**ã€‚</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <!-- I-3 æœå‹™æ—¥æœŸ -->
                        <div class="mb-4">
                            <label for="service_date" class="required block text-sm font-medium text-gray-700 mb-1">æœå‹™æ—¥æœŸ</label>
                            <input type="date" id="service_date" name="service_date" required
                                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-3 focus:ring-brandGreen focus:border-brandGreen border">
                        </div>

                        <!-- I-4 æœå‹™æ™‚é–“ -->
                        <div class="mb-4">
                            <label for="service_time" class="required block text-sm font-medium text-gray-700 mb-1">æœå‹™æ™‚é–“</label>
                            <select id="service_time" name="service_time" required
                                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-3 focus:ring-brandGreen focus:border-brandGreen border bg-white">
                                <!-- JS æœƒè‡ªå‹•ç”Ÿæˆæ™‚é–“é¸é … -->
                            </select>
                        </div>

                        <!-- I-5 é ç´„äººæ•¸ -->
                        <div class="mb-4">
                            <label for="party_size" class="required block text-sm font-medium text-gray-700 mb-1">é ç´„äººæ•¸</label>
                            <input type="number" id="party_size" name="party_size" min="1" max="20" value="1" required
                                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-3 focus:ring-brandGreen focus:border-brandGreen border"
                                placeholder="1">
                        </div>
                    </div>
                </fieldset>

                <!-- å€å¡Š II: è¨‚ä½äººèˆ‡è¯çµ¡è³‡è¨Š -->
                <fieldset class="mb-8 p-5 border border-gray-200 rounded-lg">
                    <legend class="text-xl font-semibold text-gray-800 px-3 -ml-3">II. è¨‚ä½äººèˆ‡è¯çµ¡è³‡è¨Š</legend>
                    
                    <!-- II-1 è¨‚ä½äººè‹±æ–‡å§“å -->
                    <div class="mb-4">
                        <label for="res_en_name" class="required block text-sm font-medium text-gray-700 mb-1">è¨‚ä½äººè‹±æ–‡å§“å (è­·ç…§æ ¼å¼)</label>
                        <input type="text" id="res_en_name" name="res_en_name" required
                            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-3 focus:ring-brandGreen focus:border-brandGreen border"
                            placeholder="ä¾‹å¦‚ï¼šWANG, DA-MING (èˆ‡å…¥ä½/ç”¨é¤è€…ä¸€è‡´)">
                    </div>

                    <!-- II-2 è¨‚ä½äººè¯çµ¡é›»è©± -->
                    <div class="mb-4">
                        <label for="res_phone" class="required block text-sm font-medium text-gray-700 mb-1">æ‚¨çš„ç·Šæ€¥è¯çµ¡é›»è©±</label>
                        <input type="tel" id="res_phone" name="res_phone" required
                            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-3 focus:ring-brandGreen focus:border-brandGreen border"
                            placeholder="ä¾‹å¦‚ï¼š+886912345678 (æ–¹ä¾¿æˆ‘å€‘åœ¨ç·Šæ€¥æ™‚è¯ç¹«æ‚¨)">
                    </div>

                    <!-- II-3 å‚™ç”¨è¯çµ¡è³‡è¨Š (æ—¥æ–¹é›»è©±) -->
                    <div class="mb-4">
                        <label for="hotel_info" class="block text-sm font-medium text-gray-700 mb-1">å‚™ç”¨è¯çµ¡è³‡è¨Š (æ—¥æ–¹é›»è©±/é£¯åº—)</label>
                        <textarea id="hotel_info" name="hotel_info" rows="3" 
                                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-3 focus:ring-brandGreen focus:border-brandGreen border"
                                placeholder="è«‹å¡«å¯«æ‚¨åœ¨æ—¥æœ¬çš„è¯çµ¡é›»è©±ï¼Œæˆ–é å®šå…¥ä½çš„é£¯åº—åç¨±èˆ‡é›»è©±ã€‚"></textarea>
                        <p class="text-xs text-brandGreen mt-1 font-semibold">â˜… é‡è¦æé†’ï¼šéƒ¨åˆ†åº—å®¶åªæ¥å—ç•™æ—¥æœ¬é›»è©±è™Ÿç¢¼ï¼Œæœªå¡«å¯«å¯èƒ½é€ æˆä»£æ’­ç„¡æ³•æˆåŠŸã€‚</p>
                    </div>
                </fieldset>

                <!-- å€å¡Š III: è²»ç”¨èˆ‡ç‰¹æ®Šè¦æ±‚ -->
                <fieldset class="mb-8 p-5 border border-gray-200 rounded-lg bg-gray-50">
                    <legend class="text-xl font-semibold text-gray-800 px-3 -ml-3">III. è²»ç”¨èˆ‡ç‰¹æ®Šè¦æ±‚</legend>

                    <!-- III-1 é ä»˜æ¬¾æ”¯ä»˜æ–¹æ¡ˆ -->
                    <div class="mb-6">
                        <label class="required block text-sm font-medium text-gray-700 mb-2">é ä»˜æ¬¾æ”¯ä»˜æ–¹æ¡ˆ (å¿…é¸)</label>
                        <div class="space-y-3">
                            <!-- æ–¹æ¡ˆ A -->
                            <label class="block cursor-pointer p-3 border rounded-md hover:bg-white transition bg-white">
                                <input type="radio" name="payment_plan" value="7åˆ†é˜/$160å…ƒè²»ç‡" class="form-radio text-brandGreen focus:ring-brandGreen" required>
                                <span class="ml-2 font-medium text-gray-800">é å…ˆæ”¯ä»˜ **7 åˆ†é˜/$160 å…ƒ**è²»ç‡ï¼Œæœå‹™å®Œæˆå¾Œå¤šé€€å°‘è£œã€‚</span>
                            </label>
                            <!-- æ–¹æ¡ˆ B -->
                            <label class="block cursor-pointer p-3 border rounded-md hover:bg-white transition">
                                <input type="radio" name="payment_plan" value="$50å…ƒåŸºç¤é ä»˜æ¬¾" class="form-radio text-brandGreen focus:ring-brandGreen">
                                <span class="ml-2 font-medium text-gray-800">é å…ˆæ”¯ä»˜ **50 å…ƒåŸºç¤é ä»˜æ¬¾**ï¼Œæœå‹™å®Œæˆå¾Œå‘æ‚¨æ”¶å–å·®é¡ã€‚</span>
                            </label>
                        </div>
                    </div>

                    <!-- III-2 å…¶ä»–å‚™è¨»èˆ‡è¦æ±‚ -->
                    <div class="mb-4">
                        <label for="notes" class="block text-sm font-medium text-gray-700 mb-1">å…¶ä»–å‚™è¨»èˆ‡è¦æ±‚ (é¸å¡«)</label>
                        <textarea id="notes" name="notes" rows="4" 
                                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm p-3 focus:ring-brandGreen focus:border-brandGreen border"
                                placeholder="ä¾‹å¦‚ï¼šå‚™ç”¨é ç´„æ™‚æ®µ (18:30)ã€åå¥½å¥—é¤é¸æ“‡ã€ç‰¹æ®Šé£²é£Ÿé™åˆ¶ç­‰ã€‚"></textarea>
                    </div>
                </fieldset>
                
                <!-- æäº¤æŒ‰éˆ• -->
                <div class="mt-8">
                    <button type="submit" id="submit-btn" class="w-full bg-brandGreen text-white py-4 rounded-lg font-bold text-lg shadow-md hover:bg-opacity-90 transition duration-300 flex items-center justify-center">
                        <span class="material-symbols-rounded mr-2">send</span> ç¢ºèªæäº¤ä¸¦ç™¼é€ LINE é€šçŸ¥
                    </button>
                </div>
                
            </form>
            
            <!-- è¡¨å–®æäº¤æˆåŠŸæç¤º -->
            <div id="success-message" class="hidden mt-8 p-6 bg-brandGreen/10 border-l-4 border-brandGreen text-gray-700 rounded-lg">
                <p class="font-bold text-lg mb-2 flex items-center"><span class="material-symbols-rounded text-brandGreen mr-2">check_circle</span> é ç´„éœ€æ±‚å·²é€å‡ºï¼</p>
                <p>æ‚¨çš„é›»è©±ä»£æ’­éœ€æ±‚å·²æˆåŠŸè¨˜éŒ„ã€‚æˆ‘å€‘å·²å°‡è©³ç´°è³‡è¨Šæ¨æ’­çµ¦å®¢æœäººå“¡ï¼Œè«‹æ‚¨**å›åˆ° LINE å®˜æ–¹å¸³è™Ÿ**ï¼Œå®¢æœå°‡æœƒç›¡å¿«èˆ‡æ‚¨è¯ç¹«ç¢ºèªç´°ç¯€èˆ‡è™•ç†é€²åº¦ã€‚</p>
            </div>
        </div>
    </div>
</main>
